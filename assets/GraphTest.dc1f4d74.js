import{r as k,b as P,d as M,e as D,f as R,g as T,i as A,o as d,c as a,a as x,n as Y,u as r,F as g,h as y,j as f,w as $,_ as L,t as N,k as H,l as G,v as z,p as V,m as U,q as W,s as j}from"./index.8ae8dcbe.js";import{E as K}from"./elk.bundled.d59b6e15.js";const Z={id:"G1",children:[{id:"N1",labels:[{text:"channel1",id:"L1",width:53,height:15}],ports:[{id:"P1",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],children:[{id:"N2",labels:[{text:"Counter",id:"L2",width:46,height:15}],ports:[{id:"P2",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P3",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P4",layoutOptions:{"port.side":"EAST","port.index":"2"},width:8,height:8}],width:61,height:41},{id:"N3",labels:[{text:"RecordAssembler",id:"L3",width:104,height:15}],ports:[{id:"P5",layoutOptions:{"port.side":"EAST","port.index":"0"},width:8,height:8},{id:"P6",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P7",layoutOptions:{"port.side":"WEST","port.index":"-2"},width:8,height:8}],width:10,height:41},{id:"N4",labels:[{text:"Display",id:"L4",width:43,height:15}],ports:[{id:"P8",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],width:41,height:31}],edges:[{id:"E13",sources:["P1"],targets:["P2"]},{id:"E14",sources:["P1"],targets:["P6"]},{id:"E15",sources:["P4"],targets:["P7"]},{id:"E16",sources:["P5"],targets:["P8"]}]},{id:"N5",labels:[{text:"channel2",id:"L5",width:53,height:15}],ports:[{id:"P9",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],children:[{id:"N6",labels:[{text:"Counter",id:"L6",width:46,height:15}],ports:[{id:"P10",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P11",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P12",layoutOptions:{"port.side":"EAST","port.index":"2"},width:8,height:8}],width:61,height:41},{id:"N7",labels:[{text:"RecordAssembler",id:"L7",width:104,height:15}],ports:[{id:"P13",layoutOptions:{"port.side":"EAST","port.index":"0"},width:8,height:8},{id:"P14",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P15",layoutOptions:{"port.side":"WEST","port.index":"-2"},width:8,height:8}],width:10,height:41},{id:"N8",labels:[{text:"Display",id:"L8",width:43,height:15}],ports:[{id:"P16",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],width:41,height:31}],edges:[{id:"E17",sources:["P9"],targets:["P10"]},{id:"E18",sources:["P9"],targets:["P14"]},{id:"E19",sources:["P12"],targets:["P15"]},{id:"E20",sources:["P13"],targets:["P16"]}]},{id:"N9",labels:[{text:"DataReceived",id:"L9",width:80,height:15}],ports:[{id:"P17",layoutOptions:{"port.side":"EAST","port.index":"0"},width:8,height:8},{id:"P18",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P19",layoutOptions:{"port.side":"WEST","port.index":"-2"},width:8,height:8}],width:61,height:41},{id:"N10",labels:[{text:"MonitorValue - q1 length",id:"L10",width:141,height:15}],ports:[{id:"P20",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],width:60,height:40},{id:"N11",labels:[{text:"MonitorValue - q2 length",id:"L11",width:141,height:15}],ports:[{id:"P21",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],width:60,height:40},{id:"N12",labels:[{text:"dropped",id:"L12",width:47,height:15}],ports:[{id:"P22",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8}],width:41,height:31},{id:"N13",labels:[{text:"Distributor",id:"L13",width:60,height:15}],ports:[{id:"P23",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P24",layoutOptions:{"port.side":"WEST","port.index":"-1"},width:8,height:8},{id:"P25",layoutOptions:{"port.side":"WEST","port.index":"-2"},width:8,height:8},{id:"P26",layoutOptions:{"port.side":"EAST","port.index":"3"},width:8,height:8},{id:"P27",layoutOptions:{"port.side":"EAST","port.index":"4"},width:8,height:8},{id:"P28",layoutOptions:{"port.side":"EAST","port.index":"5"},width:8,height:8}],width:61,height:41},{id:"N14",labels:[{text:"Interface - fast",id:"L14",width:82,height:15}],ports:[{id:"P29",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P30",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8}],children:[{id:"N15",labels:[{text:"Sleep",id:"L15",width:34,height:15}],ports:[{id:"P31",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P32",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8},{id:"P33",layoutOptions:{"port.side":"SOUTH","port.index":"-2"},width:8,height:8}],width:61,height:41}],edges:[{id:"E21",sources:["P29"],targets:["P31"]},{id:"E22",sources:["P32"],targets:["P30"]}]},{id:"N16",labels:[{text:"Interface - slow",id:"L16",width:88,height:15}],ports:[{id:"P34",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P35",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8}],children:[{id:"N17",labels:[{text:"Sleep",id:"L17",width:34,height:15}],ports:[{id:"P36",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P37",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8},{id:"P38",layoutOptions:{"port.side":"SOUTH","port.index":"-2"},width:8,height:8}],width:61,height:41}],edges:[{id:"E23",sources:["P34"],targets:["P36"]},{id:"E24",sources:["P37"],targets:["P35"]}]},{id:"N18",labels:[{text:"Queue1",id:"L18",width:460,height:15}],ports:[{id:"P39",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P40",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8},{id:"P41",layoutOptions:{"port.side":"EAST","port.index":"2"},width:8,height:8}],width:61,height:41},{id:"N19",labels:[{text:"Queue2",id:"L19",width:46,height:15}],ports:[{id:"P42",layoutOptions:{"port.side":"WEST","port.index":"0"},width:8,height:8},{id:"P43",layoutOptions:{"port.side":"EAST","port.index":"1"},width:8,height:8},{id:"P44",layoutOptions:{"port.side":"EAST","port.index":"2"},width:8,height:8}],width:61,height:41}],edges:[{id:"E1",sources:["P17"],targets:["P24"]},{id:"E2",sources:["P27"],targets:["P22"]},{id:"E3",sources:["P28"],targets:["P42"]},{id:"E4",sources:["P26"],targets:["P39"]},{id:"E5",sources:["P30"],targets:["P1"]},{id:"E6",sources:["P35"],targets:["P9"]},{id:"E7",sources:["P40"],targets:["P29"]},{id:"E8",sources:["P41"],targets:["P20"]},{id:"E9",sources:["P41"],targets:["P23"]},{id:"E10",sources:["P44"],targets:["P21"]},{id:"E11",sources:["P44"],targets:["P25"]},{id:"E12",sources:["P43"],targets:["P34"]}]};function q(l){const e=k({scale:1,minX:0,minY:0}),s=P(100),o=P(100);M(()=>{window.addEventListener("resize",E),l.value&&(s.value=l.value.clientWidth,o.value=l.value.clientHeight)}),D(()=>{window.removeEventListener("resize",E)});const E=()=>{l.value&&(s.value=l.value.clientWidth,o.value=l.value.clientHeight)},m=n=>{const{offsetX:h,offsetY:t,deltaY:_}=n,v=e.scale;e.scale*=1+_*.002,e.scale<.1?e.scale=.1:e.scale>12&&(e.scale=12),e.minX=e.minX-h*e.scale+h*v,e.minY=e.minY-t*e.scale+t*v},w=k({x:0,y:0}),u=n=>{w.x=n.offsetX,w.y=n.offsetY},O=n=>{n.buttons==1&&(e.minX+=(w.x-n.offsetX)*e.scale,e.minY+=(w.y-n.offsetY)*e.scale,w.x=n.offsetX,w.y=n.offsetY)},S=(n,h)=>{const t=n?n/s.value:1,_=h?h/o.value:1;e.scale=Math.max(t,_),e.minX=0,e.minY=0},b=R(()=>[e.minX,e.minY,s.value*e.scale,o.value*e.scale].join(" "));return{viewbox:e,wheelEvent:m,mouseDownEvent:u,mouseMoveEvent:O,resetZoom:S,viewBox_str:b}}const C=Symbol(),I=Symbol(),F=["original-title","transform"],J=["width","height"],Q=["x","y","width","height"],ee=T({__name:"NodeGroup",props:{node:null},setup(l){const i=l,c=A(C),p=A(I,e=>{console.log("ChangeSelectKodeKey Not defined for: ",e)});return(e,s)=>(d(),a("g",{class:"nodeGroup","original-title":i.node.id,transform:`translate(${i.node.x!=null?i.node.x:0},${i.node.y!=null?i.node.y:0})`,onClick:s[0]||(s[0]=$(o=>r(p)(i.node.id),["stop"]))},[x("rect",{class:Y(["nodeBackground",{selected:r(c)==i.node.id}]),width:i.node.width,height:i.node.height},null,10,J),(d(!0),a(g,null,y(i.node.ports,o=>(d(),a("rect",{class:"nodePort",key:o.id,x:o.x,y:o.y,width:o.width,height:o.height},null,8,Q))),128)),(d(!0),a(g,null,y(i.node.labels,o=>(d(),f(r(ne),{key:o.id,label:o},null,8,["label"]))),128)),(d(!0),a(g,null,y(i.node.children,o=>(d(),f(r(B),{key:o.id,node:o},null,8,["node"]))),128)),(d(!0),a(g,null,y(l.node.edges,o=>(d(),f(r(X),{key:o.sources[0]+"-"+o.targets[0],edge:o},null,8,["edge"]))),128))],8,F))}});const B=L(ee,[["__scopeId","data-v-565ca997"]]),te=["d"],ie=["cx","cy"],oe=T({__name:"NodeEdge",props:{edge:null},setup(l){const i=l,c=p=>p.sections==null?"":p.sections.reduce((e,s)=>{var o;return e+`M${s.startPoint.x},${s.startPoint.y}${s.bendPoints!=null?(o=s.bendPoints)==null?void 0:o.reduce((E,m)=>E+`L${m.x},${m.y}`,""):""}L${s.endPoint.x},${s.endPoint.y}`},"");return(p,e)=>(d(),a(g,null,[x("path",{class:"nodeEdge",d:c(i.edge)},null,8,te),(d(!0),a(g,null,y(i.edge.junctionPoints,s=>(d(),a("circle",{class:"nodeEdgeJunctionPoint",key:`Joint-${s.x}-${s.y}`,cx:s.x,cy:s.y,r:"3"},null,8,ie))),128))],64))}});const X=L(oe,[["__scopeId","data-v-8af9800b"]]),se=["x","y"],de=T({__name:"NodeLabel",props:{label:null},setup(l){const i=l,c=P(null);return M(()=>{var p=c.value.getBBox();i.label.height=p.height,i.label.width=p.width}),(p,e)=>(d(),a("text",{class:"nodeLabel",x:i.label.x,y:i.label.y,ref_key:"labelRef",ref:c},N(i.label.text),9,se))}});const ne=L(de,[["__scopeId","data-v-5418b194"]]),re=l=>(V("data-v-5834fd04"),l=l(),U(),l),le=["value"],he=["viewBox"],ae=re(()=>x("defs",null,[x("marker",{id:"markerArrow",orient:"auto",markerWidth:"2",markerHeight:"4",refX:"1.55",refY:"2"},[x("path",{class:"nodeEdge nodeEdgeMarker",d:"M0,0 V4 L2,2 Z",fill:"black"})])],-1)),pe=["x","y","width","height"],ue=T({__name:"elkjsTest",setup(l){const i=P(null),{viewBox_str:c,wheelEvent:p,mouseDownEvent:e,mouseMoveEvent:s,resetZoom:o}=q(i),E=P(""),m=n=>{E.value=n};W(C,E),W(I,m);const w=new K({});let u=k(Z);const O=P([]);w.knownLayoutAlgorithms().then(n=>O.value=n);const S=P("layered"),b=()=>{var n;(n=u.edges)==null||n.forEach(h=>{var t;(t=h.sections)==null||t.forEach(_=>{_.bendPoints=[]})}),w.layout(u,{layoutOptions:{"elk.algorithm":"elk.layered","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.portAlignment.default":"DISTRIBUTED","elk.portConstraints":"FIXED_ORDER","elk.nodeSize.minimum":"(40,40)","elk.nodeLabels.placement":"[H_CENTER, V_TOP, INSIDE]","elk.nodeSize.constraints":"[NODE_LABELS, PORTS]","elk.margins":"[top=20,left=20,bottom=20,right=20]","elk.padding":"[top=30,left=30,bottom=30,right=30]","elk.spacing.nodeNode":"20","elk.layered.spacing.nodeNodeBetweenLayers":"20","elk.spacing.edgeNode":"20","elk.layered.spacing.edgeNodeBetweenLayers":"20","elk.edge.thickness":"4","elk.edgeLabels.placement":"CENTER","elk.edgeLabels.inline":"true"}}).then(()=>{o(u.width,u.height)}).catch(h=>console.warn({e:h}))};return H(S,()=>{b()},{immediate:!1,deep:!0}),b(),(n,h)=>(d(),a(g,null,[G(x("select",{name:"layoutAlgoryth",id:"layoutAlgoryth","onUpdate:modelValue":h[0]||(h[0]=t=>S.value=t)},[(d(!0),a(g,null,y(O.value,t=>{var _,v;return d(),a("option",{key:t.id,value:(_=t.id)==null?void 0:_.slice(16)},N(t.name)+": "+N((v=t.description)==null?void 0:v.slice(void 0,80))+"... ",9,le)}),128))],512),[[z,S.value,void 0,{lazy:!0}]]),x("p",null,N(S.value),1),(d(),a("svg",{ref_key:"svgRef",ref:i,xmlns:"http://www.w3.org/2000/svg",viewBox:r(c),onWheel:h[1]||(h[1]=$((...t)=>r(p)&&r(p)(...t),["prevent"])),onMousedown:h[2]||(h[2]=(...t)=>r(e)&&r(e)(...t)),onMousemove:h[3]||(h[3]=(...t)=>r(s)&&r(s)(...t))},[ae,x("rect",{x:r(u).x,y:r(u).y,width:r(u).width,height:r(u).height,fill:"none",stroke:"#204060","stroke-width":"2"},null,8,pe),(d(!0),a(g,null,y(r(u).children,t=>(d(),f(r(B),{class:"nodeGroup",key:t.id,node:t,"original-title":t.id},null,8,["node","original-title"]))),128)),(d(!0),a(g,null,y(r(u).edges,t=>(d(),f(r(X),{key:t.sources[0]+"-"+t.targets[0],edge:t},null,8,["edge"]))),128))],40,he))],64))}});const ce=L(ue,[["__scopeId","data-v-5834fd04"]]),_e=T({__name:"GraphTest",setup(l){return(i,c)=>(d(),a("div",null,[j(ce)]))}});export{_e as default};
